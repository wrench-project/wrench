name: Build

on: [ push ]

jobs:
  build:
    runs-on: ${{ matrix.os }}
    strategy:
      matrix:
        include:
          - os: ubuntu-20.04
            COMPILER: gcc
            LINKER: gcc

          - os: ubuntu-18.04
            COMPILER: gcc
            LINKER: gcc

    steps:
      - uses: actions/checkout@v2
      - name: Install Dependencies
        run: |
          apt-get -y install $COMPILER
          apt-get -y install pkg-config git cmake cmake-data doxygen doxygen-doc doxygen-latex doxygen-gui graphviz libboost-all-dev wget sudo curl lcov
          # install SimGrid
          wget https://framagit.org/simgrid/simgrid/uploads/0365f13697fb26eae8c20fc234c5af0e/SimGrid-3.25.tar.gz && tar -xf SimGrid-3.25.tar.gz && cd SimGrid-3.25 && cmake . && make && sudo make install && cd .. && rm -rf SimGrid-3.25*
